<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-security">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/gsudo/blog/rss.xml" title="gsudo RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/gsudo/blog/atom.xml" title="gsudo Atom Feed"><title data-rh="true">Security Considerations | gsudo</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/gsudo/docs/security"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Security Considerations | gsudo"><meta data-rh="true" name="description" content="Why Windows does not have a sudo command?"><meta data-rh="true" property="og:description" content="Why Windows does not have a sudo command?"><link data-rh="true" rel="icon" href="/gsudo/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/gsudo/docs/security"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/gsudo/docs/security" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/gsudo/docs/security" hreflang="x-default"><link rel="stylesheet" href="/gsudo/assets/css/styles.f8f4e646.css">
<link rel="preload" href="/gsudo/assets/js/runtime~main.33c6bda7.js" as="script">
<link rel="preload" href="/gsudo/assets/js/main.40d0fbe4.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/gsudo/"><div class="navbar__logo"><img src="/gsudo/img/gsudo.png" alt="gsudo Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/gsudo/img/gsudo.png" alt="gsudo Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">gsudo</b></a><a class="navbar__item navbar__link navbar__link--active" href="/gsudo/docs/intro">Docs</a><a class="navbar__item navbar__link navbar__link--active" href="/gsudo/docs/install">Install</a><a class="navbar__item navbar__link" href="/gsudo/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/gerardog/gsudo" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/gsudo/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/gsudo/docs/install">How to Install</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/gsudo/docs/credentials-cache">Credentials Cache</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gsudo/docs/usage">Usage</a><button aria-label="Toggle the collapsible sidebar category &#x27;Usage&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/gsudo/docs/security">Security Considerations</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/gsudo/docs/tutorial-basics/create-a-page">Tutorial - Basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/gsudo/docs/tutorial-extras/manage-docs-versions">Tutorial - Extras</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/gsudo/">üè†</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Security Considerations</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Security Considerations</h1></header><h2 class="anchor anchorWithStickyNavbar_mojV" id="why-windows-does-not-have-a-sudo-command">Why Windows does not have a <code>sudo</code> command?<a class="hash-link" href="#why-windows-does-not-have-a-sudo-command" title="Direct link to heading">‚Äã</a></h2><p>To answer this question, we first have to take a look back at the history.</p><p>In August 2002, Chris Paget released a white paper describing a form of attack against event-driven systems that he termed Shatter Attack. It allowed processes in the same session to bypass security restrictions by abussing Windows Message loop.</p><p>Microsoft response was to add &quot;User Interface Privilege Isolation&quot; (UIPI) and the &quot;User Access Control&quot; (UAC) popup to the next mayor release: Windows Vista. Privileged processes would then ran &quot;elevated&quot;, out of reach of lower non-admin processes.</p><p>I assume that at this point Microsoft decided not to make a <code>sudo</code> tool for windows. It would be an unwanted bridge between two intentionally (supposedly) isolated worlds..</p><p>But, let me <a href="https://devblogs.microsoft.com/oldnewthing/20160816-00/?p=94105" target="_blank" rel="noopener noreferrer">quote Raymond Chen from Microsoft</a>:</p><blockquote><p>There‚Äôs a setting that lets you specify how often you want to be prompted by UAC. You can set any of four levels:</p><ul><li>Always notify</li><li>Notify only when apps try to change settings, use the secure desktop <code>(Default mode)</code></li><li>Notify only when apps try to change settings, don‚Äôt use the secure desktop</li><li>Never notify</li></ul><p>Although it looks like there are four settings, in a theoretical sense, there really are only two settings.</p><ul><li>Always notify</li><li>Meh</li></ul><p>The reason why all the other options collapse into Meh is that the <code>Notify only when apps try to change settings</code> option can be subverted by any app simply by (...)</p></blockquote><p>And, up to this day, Windows 10 &amp; 11, defaults to &quot;Meh&quot;. Why? User convenience (against security).</p><p>Later, it was assumed publicily that <code>UIPI</code> in default mode is not a security boundary. I will <a href="https://docs.microsoft.com/en-us/troubleshoot/windows-server/windows-security/disable-user-account-control#:~:text=More%20important%2C%20Same%2Ddesktop%20Elevation,be%20considered%20a%20convenience%20feature." target="_blank" rel="noopener noreferrer">quote Microsoft documentation</a> :</p><blockquote><p>Same-desktop Elevation in UAC isn&#x27;t a security boundary. It can be hijacked by unprivileged software that runs on the same desktop. Same-desktop Elevation should be considered a convenience feature.</p></blockquote><p>This literally means: <b>UAC is a tool to protect you from shooting yourself in the foot. The only thing that protects you from malicious processes is your Anti Virus software</b>.</p><p>This contradicts the premises on which they decided not to create a Windows <code>sudo</code>, because UAC is not really a complete isolation that <code>sudo</code> will break. And if you want to avoid shooting yourself in the foot (running as admin something not intended to be admin), Window isolation is not always the best alternative, because:</p><ul><li>You loose important time by switching between elevated and unelevated windows, which leads to running non-admin stuff as admin to avoid context switching...</li><li>... or even worse: you suffer from &quot;elevation fatigue&quot;, which is, you tend to elevate everything &#x27;just in case&#x27; one future command could require admin privileges.</li></ul><p>Therefore, in my opinion, it is fine to run a sudo tool for windows. A tool that allows you to cherry-pick which commands to elevate.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="is-it-safe-to-run-gsudo">Is it safe to run gsudo?<a class="hash-link" href="#is-it-safe-to-run-gsudo" title="Direct link to heading">‚Äã</a></h2><p>To answer this question, lets explore how gsudo could be used as an attack vector for escalation of privileges.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/gerardog/gsudo/blob/docs/docs/docs/security.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/gsudo/docs/usage/mingw-msys2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">MinGW / MSYS2 / Git-Bash / Cygwin</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/gsudo/docs/tutorial-basics/create-a-page"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Create a Page</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-windows-does-not-have-a-sudo-command" class="table-of-contents__link toc-highlight">Why Windows does not have a <code>sudo</code> command?</a></li><li><a href="#is-it-safe-to-run-gsudo" class="table-of-contents__link toc-highlight">Is it safe to run gsudo?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/gsudo/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/dEEA3P5WqF" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/gerardog/gsudo/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Report an Issue<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/gerardo_gr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Follow me on Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/gsudo/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/gerardog/gsudo" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 Gerardo Grignoli. Built with Docusaurus.</div></div></div></footer></div>
<script src="/gsudo/assets/js/runtime~main.33c6bda7.js"></script>
<script src="/gsudo/assets/js/main.40d0fbe4.js"></script>
</body>
</html>